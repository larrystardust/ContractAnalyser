export const edgeTranslations = {
  en: {
    report_title: "Contract Analysis Report",
    contract_name: "Contract Name:",
    analysis_date: "Analysis Date:",
    executive_summary: "Executive Summary",
    overall_compliance_score: "Overall Compliance Score",
    score_description: "This score reflects the overall adherence of the contract to legal and regulatory standards, with deductions for identified risks and non-compliance.",
    data_protection_impact: "Data Protection Impact",
    jurisdiction_summaries: "Jurisdiction Summaries",
    no_jurisdiction_summaries: "No specific jurisdiction summaries available.",
    detailed_findings: "Detailed Findings",
    no_detailed_findings: "No detailed findings available.",
    jurisdiction_label: "Jurisdiction:",
    category_label: "Category:",
    clause_reference_label: "Clause Reference:",
    recommendations_label: "Recommendations:",
    footer_copyright: "© {year} ContractAnalyser. All rights reserved.",
    footer_disclaimer: "This report is for informational purposes only and does not constitute legal advice.",
    applicable_laws: "Applicable Laws:",
    key_findings: "Key Findings:",
    risk_level_label: "Risk Level:",
    risk_high: "High",
    risk_medium: "Medium",
    risk_low: "Low",
    risk_none: "None",
    email_hello: "Hello {recipientName},",
    email_analysis_complete: "Your legal contract analysis is complete!",
    email_view_full_report: "You can view the full report and detailed findings directly below, or click the link to view it in your browser:",
    email_view_full_report_button: "View Full Report in Browser",
    email_thank_you: "Thank you for using ContractAnalyser.",
    email_team: "The ContractAnalyser Team",
    no_description_provided: "No description provided.",
    no_executive_summary_provided: "No executive summary provided.",
    no_title_provided: "No title provided.",
    email_report_not_available: "The full report content is not available in this email. Please contact support if you require it.",
    // JURISDICTION KEYS
    "jurisdiction_uk": "UK",
    "jurisdiction_eu": "EU",
    "jurisdiction_ireland": "Ireland",
    "jurisdiction_us": "US",
    "jurisdiction_canada": "Canada",
    "jurisdiction_australia": "Australia",
    "jurisdiction_islamic_law": "Islamic Law",
    "jurisdiction_others": "Others",
    // CATEGORY KEYS
    "category_compliance": "Compliance",
    "category_risk": "Risk",
    "category_data_protection": "Data Protection",
    "category_enforceability": "Enforceability",
    "category_drafting": "Drafting",
    "category_commercial": "Commercial",
    // EMAIL SUBJECT KEY
    "email_subject_report_ready": (contractName: string) => `Your Contract Analysis Report for ${contractName} is Ready!`,
    // NOTIFICATION MESSAGE KEYS (MOVED FROM contract-analyzer/index.ts)
    "analysis_complete_message": (contractName: string) => `Your contract "${contractName}" has been successfully analyzed.`,
    "high_risk_findings_message": (contractName: string, count: number) => `Your contract "${contractName}" has ${count} high-risk findings. Review immediately.`,
    "analysis_failed_message": (contractName: string) => `Contract analysis for "${contractName}" failed. Please try again or contact support.`
  },
  es: {
    report_title: "Informe de Análisis de Contrato",
    contract_name: "Nombre del Contrato:",
    analysis_date: "Fecha de Análisis:",
    executive_summary: "Resumen Ejecutivo",
    overall_compliance_score: "Puntuación General de Cumplimiento",
    score_description: "Esta puntuación refleja la adhesión general del contrato a los estándares legales y regulatorios, con deducciones por riesgos identificados e incumplimientos.",
    data_protection_impact: "Impacto en la Protección de Datos",
    jurisdiction_summaries: "Resúmenes de Jurisdicción",
    no_jurisdiction_summaries: "No hay resúmenes de jurisdicción específicos disponibles.",
    detailed_findings: "Hallazgos Detallados",
    no_detailed_findings: "No hay hallazgos detallados disponibles.",
    jurisdiction_label: "Jurisdicción:",
    category_label: "Categoría:",
    clause_reference_label: "Referencia de Cláusula:",
    recommendations_label: "Recomendaciones:",
    footer_copyright: "© {year} ContractAnalyser. Todos los derechos reservados.",
    footer_disclaimer: "Este informe es solo para fines informativos y no constituye asesoramiento legal.",
    applicable_laws: "Leyes Aplicables:",
    key_findings: "Hallazgos Clave:",
    risk_level_label: "Nivel de Riesgo:",
    risk_high: "Alto",
    risk_medium: "Medio",
    risk_low: "Bajo",
    risk_none: "Ninguno",
    email_hello: "Hola {recipientName},",
    email_analysis_complete: "¡Su análisis legal de contrato está completo!",
    email_view_full_report: "Puede ver el informe completo y los hallazgos detallados directamente a continuación, o hacer clic en el enlace para verlo en su navegador:",
    email_view_full_report_button: "Ver Informe Completo en el Navegador",
    email_thank_you: "Gracias por usar ContractAnalyser.",
    email_team: "El Equipo de ContractAnalyser",
    no_description_provided: "No se proporcionó descripción.",
    no_executive_summary_provided: "No se proporcionó resumen ejecutivo.",
    no_title_provided: "No se proporcionó título.",
    email_report_not_available: "El contenido completo del informe no está disponible en este correo electrónico. Póngase en contacto con el soporte si lo necesita.",
    // JURISDICTION KEYS
    "jurisdiction_uk": "Reino Unido",
    "jurisdiction_eu": "UE",
    "jurisdiction_ireland": "Irlanda",
    "jurisdiction_us": "EE. UU.",
    "jurisdiction_canada": "Canadá",
    "jurisdiction_australia": "Australia",
    "jurisdiction_islamic_law": "Ley Islámica",
    "jurisdiction_others": "Otros",
    // CATEGORY KEYS
    "category_compliance": "Cumplimiento",
    "category_risk": "Riesgo",
    "category_data_protection": "Protección de Datos",
    "category_enforceability": "Aplicabilidad",
    "category_drafting": "Redacción",
    "category_commercial": "Comercial",
    // EMAIL SUBJECT KEY
    "email_subject_report_ready": (contractName: string) => `¡Su Informe de Análisis de Contrato para ${contractName} está Listo!`,
    // NOTIFICATION MESSAGE KEYS (MOVED FROM contract-analyzer/index.ts)
    "analysis_complete_message": (contractName: string) => `Su contrato "${contractName}" ha sido analizado con éxito.`,
    "high_risk_findings_message": (contractName: string, count: number) => `Su contrato "${contractName}" tiene ${count} hallazgos de alto riesgo. Revise inmediatamente.`,
    "analysis_failed_message": (contractName: string) => `El análisis del contrato "${contractName}" falló. Por favor, inténtelo de nuevo o póngase en contacto con soporte.`
  },
  fr: {
    report_title: "Rapport d'Analyse de Contrat",
    contract_name: "Nom du Contrat:",
    analysis_date: "Date d'Analyse:",
    executive_summary: "Résumé Exécutif",
    overall_compliance_score: "Score Global de Conformité",
    score_description: "Ce score reflète l'adhésion globale du contrat aux normes légales et réglementaires, avec des déductions pour les risques identifiés et les non-conformités.",
    data_protection_impact: "Impact sur la Protection des Données",
    jurisdiction_summaries: "Résumés de Juridiction",
    no_jurisdiction_summaries: "Aucun résumé de juridiction spécifique disponible.",
    detailed_findings: "Constatations Détaillées",
    no_detailed_findings: "Aucune constatation détaillée disponible.",
    jurisdiction_label: "Juridiction:",
    category_label: "Catégorie:",
    clause_reference_label: "Référence de Clause:",
    recommendations_label: "Recommandations:",
    footer_copyright: "© {year} ContractAnalyser. Tous droits réservés.",
    footer_disclaimer: "Ce rapport est à titre informatif uniquement et ne constitue pas un avis juridique.",
    applicable_laws: "Lois Applicables:",
    key_findings: "Constatations Clés:",
    risk_level_label: "Niveau de Risque:",
    risk_high: "Élevé",
    risk_medium: "Moyen",
    risk_low: "Faible",
    risk_none: "Aucun",
    email_hello: "Bonjour {recipientName},",
    email_analysis_complete: "Votre analyse juridique de contrat est terminée !",
    email_view_full_report: "Vous pouvez consulter le rapport complet et les constatations détaillées directement ci-dessous, ou cliquer sur le lien pour le visualiser dans votre navigateur :",
    email_view_full_report_button: "Voir le Rapport Complet dans le Navigateur",
    email_thank_you: "Merci d'utiliser ContractAnalyser.",
    email_team: "L'Équipe ContractAnalyser",
    no_description_provided: "Aucune description fournie.",
    no_executive_summary_provided: "Aucun résumé exécutif fourni.",
    no_title_provided: "Aucun titre fourni.",
    email_report_not_available: "Le contenu complet du rapport n'est pas disponible dans cet e-mail. Veuillez contacter le support si vous en avez besoin.",
    // JURISDICTION KEYS
    "jurisdiction_uk": "Royaume-Uni",
    "jurisdiction_eu": "UE",
    "jurisdiction_ireland": "Irlande",
    "jurisdiction_us": "États-Unis",
    "jurisdiction_canada": "Canada",
    "jurisdiction_australia": "Australie",
    "jurisdiction_islamic_law": "Droit Islamique",
    "jurisdiction_others": "Autres",
    // CATEGORY KEYS
    "category_compliance": "Conformité",
    "category_risk": "Risque",
    "category_data_protection": "Protection des Données",
    "category_enforceability": "Applicabilité",
    "category_drafting": "Rédaction",
    "category_commercial": "Commercial",
    // EMAIL SUBJECT KEY
    "email_subject_report_ready": (contractName: string) => `Votre Rapport d'Analyse de Contrat pour ${contractName} est Prêt !`,
    // NOTIFICATION MESSAGE KEYS (MOVED FROM contract-analyzer/index.ts)
    "analysis_complete_message": (contractName: string) => `Votre contrat "${contractName}" a été analysé avec succès.`,
    "high_risk_findings_message": (contractName: string, count: number) => `Votre contrat "${contractName}" contient ${count} constatations à haut risque. Veuillez les examiner immédiatement.`,
    "analysis_failed_message": (contractName: string) => `L'analyse du contrat "${contractName}" a échoué. Veuillez réessayer ou contacter le support.`
  },
  ar: {
    report_title: "تقرير تحليل العقد",
    contract_name: "اسم العقد:",
    analysis_date: "تاريخ التحليل:",
    executive_summary: "ملخص تنفيذي",
    overall_compliance_score: "درجة الامتثال الكلية",
    score_description: "تعكس هذه النتيجة الالتزام العام للعقد بالمعايير القانونية والتنظيمية، مع خصومات للمخاطر المحددة وعدم الامتثال.",
    data_protection_impact: "تأثير حماية البيانات",
    jurisdiction_summaries: "ملخصات الاختصاص القضائي",
    no_jurisdiction_summaries: "لا توجد ملخصات اختصاص قضائي محددة متاحة.",
    detailed_findings: "النتائج التفصيلية",
    no_detailed_findings: "لا توجد نتائج تفصيلية متاحة.",
    jurisdiction_label: "الاختصاص القضائي:",
    category_label: "الفئة:",
    clause_reference_label: "مرجع البند:",
    recommendations_label: "التوصيات:",
    footer_copyright: "© {year} ContractAnalyser. جميع الحقوق محفوظة.",
    footer_disclaimer: "هذا التقرير لأغراض إعلامية فقط ولا يشكل استشارة قانونية.",
    applicable_laws: "القوانين المعمول بها:",
    key_findings: "النتائج الرئيسية:",
    risk_level_label: "مستوى المخاطر:",
    risk_high: "عالي",
    risk_medium: "متوسط",
    risk_low: "منخفض",
    risk_none: "لا يوجد",
    email_hello: "مرحباً {recipientName},",
    email_analysis_complete: "تحليل عقدك القانوني اكتمل!",
    email_view_full_report: "يمكنك عرض التقرير الكامل والنتائج التفصيلية مباشرة أدناه، أو النقر على الرابط لعرضه في متصفحك:",
    email_view_full_report_button: "عرض التقرير الكامل في المتصفح",
    email_thank_you: "شكراً لاستخدامك ContractAnalyser.",
    email_team: "فريق ContractAnalyser",
    no_description_provided: "لا يوجد وصف مقدم.",
    no_executive_summary_provided: "لا يوجد ملخص تنفيذي مقدم.",
    no_title_provided: "لا يوجد عنوان مقدم.",
    email_report_not_available: "محتوى التقرير الكامل غير متاح في هذا البريد الإلكتروني. يرجى الاتصال بالدعم إذا كنت بحاجة إليه.",
    // JURISDICTION KEYS
    "jurisdiction_uk": "المملكة المتحدة",
    "jurisdiction_eu": "الاتحاد الأوروبي",
    "jurisdiction_ireland": "أيرلندا",
    "jurisdiction_us": "الولايات المتحدة",
    "jurisdiction_canada": "كندا",
    "jurisdiction_australia": "أستراليا",
    "jurisdiction_islamic_law": "الشريعة الإسلامية",
    "jurisdiction_others": "أخرى",
    // CATEGORY KEYS
    "category_compliance": "الامتثال",
    "category_risk": "المخاطر",
    "category_data_protection": "حماية البيانات",
    "category_enforceability": "قابلية التنفيذ",
    "category_drafting": "الصياغة",
    "category_commercial": "تجاري",
    // EMAIL SUBJECT KEY
    "email_subject_report_ready": (contractName: string) => `تقرير تحليل العقد الخاص بك لـ ${contractName} جاهز!`,
    // NOTIFICATION MESSAGE KEYS (MOVED FROM contract-analyzer/index.ts)
    "analysis_complete_message": (contractName: string) => `تم تحليل عقدك "${contractName}" بنجاح.`,
    "high_risk_findings_message": (contractName: string, count: number) => `عقدك "${contractName}" يحتوي على ${count} نتائج عالية الخطورة. يرجى المراجعة فوراً.`,
    "analysis_failed_message": (contractName: string) => `فشل تحليل العقد "${contractName}". يرجى المحاولة مرة أخرى أو الاتصال بالدعم.`
  }
};

export function getTranslatedMessage(key: string, lang: string, interpolation: Record<string, any> = {}): string {
  const langMap = (edgeTranslations as any)[lang] || edgeTranslations.en;
  let message = langMap[key] || edgeTranslations.en[key] || key; // Fallback to English, then to key itself

  // MODIFIED: Check if 'message' is a function before calling .replace()
  if (typeof message === 'function') {
    message = message(interpolation.contractName, interpolation.count, interpolation.year); // Execute the function with interpolation values
  }

  // Apply interpolation for string messages (if any)
  for (const [k, v] of Object.entries(interpolation)) {
    if (typeof message === 'string') { // Ensure it's a string before replacing
      message = message.replace(`{${k}}`, v);
    }
  }
  return message;
}